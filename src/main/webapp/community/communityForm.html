<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="ko" class="no-js"> <!--<![endif]-->
  <head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title>하이바 커뮤니티</title>
   
  
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
    <link rel="stylesheet" type="text/css" href="../css/common_style.css" >
    <link rel="stylesheet" type="text/css" href="../css/community.css" >
    
     <!-- makegroupd에서 가져온 CSS -->
    <link href="../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="../css/common_style.css" >
    <link rel="stylesheet" type="text/css" href="../css/makeCal.css" >
    <link rel="stylesheet" type="text/css" href="../css/makegroup.css">        
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/5.0.7/sweetalert2.min.css" />
   <!--  <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet"> -->
      <link rel="stylesheet" type="text/css" href="../css/makegrouplayout.css">  

    <!-- 부트스크랩 CSS -->
    <script src="../node_modules/jquery/dist/jquery.js"></script> 
    

<style>
/* The switch - the box around the slider */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 24px;
}

/* Hide default HTML checkbox */
.switch input {display:none;}

      body {
      background: #e9e9ea;
      }
 
.bodyform-width {
 width: 850px;
}      
      
      
/* Google Calendar*/      
 #calendar {
 max-width: 850px;
 margin: 0 auto;
 float: right;
}

.article-schedule ul li { padding-bottom: 20px; }     
.my-make-schedule button:first-child {
 margin-bottom: 20px;      
}
.my-schedule { border-top: 1px solid gray; border-bottom: 1px solid gray; padding:20px 0; }
.my-schedule ul { margin-bottom: 0px; }
.my-schedule ul li { padding: 2px 0; }
.my-group-member ul li { padding-bottom: 15px; padding-right: 10px; position: relative; }
.my-group-member ul li i { 
display: inline-block; float: right; width: 40px; 
height: 40px; background: #555; }     
.member-photo { display: inline-block; }
.member-photo img{ width: 70px; height: 70px; border-radius: 100px; }
.member-name { display: block; position: absolute; right: 10px; top: 50px; }
.state { -  width: 15px; height: 15px; }
.danger { background:url("../images/ximg.png") no-repeat }
.success { background:url("../images/successicon.png") no-repeat }
#map {
   height: 300px;
      }
.controls {
  margin-top: 10px;
  border: 1px solid transparent;
  border-radius: 2px 0 0 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  height: 32px;
  outline: none;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

#pac-input {
  background-color: #fff;
  font-family: Roboto;
  font-size: 15px;
  font-weight: 300;
  margin-left: 12px;
  padding: 0 11px 0 13px;
  text-overflow: ellipsis;
  width: 300px;
}

#pac-input:focus {
  border-color: #4d90fe;
}

.pac-container {
  font-family: Roboto;
}

#type-selector {
  color: #fff;
  background-color: #4d90fe;
  padding: 5px 11px 0px 11px;
}

#type-selector label {
  font-family: Roboto;
  font-size: 13px;
  font-weight: 300;
}
     .pac-container {
    background-color: #FFF;
    z-index: 20;
    position: fixed;
    display: inline-block;
    float: left;
}
.modal{
    z-index: 20;   
}
.modal-backdrop{
    z-index: 10;        
}    
</style>


</head>

<body>
<div class="wrap display-none" style="z-index: 9999;">
  <div class="loading"></div>
</div>
<div class="wrapper">
  <header> </header>
  <section class="panel" style=""> 
   <aside class="header-top" style="float: left; ">
    <ul class="aside-nav"> 
      <li class="f-r"><a href="#"></a></li>
      <li class="f-r iconMemberPlus" data-toggle="tooltip"
        data-placement="bottom" title="그룹추가하기"><a href="#"></a></li>
      <li class="f-r iconSchedulePlus" data-toggle="tooltip"
        data-placement="bottom" title="일정추가하기"><a href="#"></a></li>
      <li class="f-r iconBell user-alert"
        style="display: block; cursor: pointer"><i
        class="glyphicon glyphicon-exclamation-sign alert-icon"
        style="color: red; position: absolute; font-size: 15px; top:10px; display: none"></i>
      </li>
    </ul>
      <p class="f-r logout" style="float: right;"><a href="#">로그아웃</a></p>
    <div class="alert-box"
      style="position: absolute; background-color: rgba(0, 0, 0, 0.5); max-width: 250px; margin: 10px; left: 50px; top: 60px; color: #fff">
    </div>
  </aside>
  
      <div class="make-top"> <!--헤더 프로필 S-->
        <div class="make-text" style="position:fixed; left:20px; z-index:2; width:150px;">
        <!--  <h2>
          <span id="mno"></span>
          <span class="my-profile" style="display:block; text-align:center; padding-left:0px;">
              <img src="" id="profilePhoto" style="width:80px; height:80px; "/>
          </span><br>
          <span id="userName" class="my-login" data-value=""></span>님 안녕하세요?
         </h2> -->
         <h2>
           <span class="my-profile">
              <img src="" id="profilePhoto" style="float:left; width: 50px; height: 50px; border-radius: 50%; margin-bottom:10px; box-shadow: 2px 2px 1px 0px rgba(80,78,80,1);" />
          </span>         
         </h2>       
          <p style="color:#751471; margin-top: 5px; margin-left:5px; font-size:14px; font-weight:bold"><span>안녕하세요!</span></p> 
          <p style="color:#fff; font-size:14px;  margin-left:5px; font-weight:bold"><span id="userName" class="my-login" data-value="" ></span>님</p>
        </div>
      </div> <!--헤더 프로필 E-->
               
        <!-- <form> -->
        
       <!--         
        <div class="form-group my-view">
          <label class="col-sm-2 control-label">조회수</label>
          <div class="col-sm-10">
            <p id="viewCount" class="form-control-static"></p>
          </div>
        </div>
        
        
        <div class="form-group my-view">
          <label class="col-sm-2 control-label">좋아요</label>
          <div class="col-sm-10">
            <p id="boardLike" class="form-control-static"></p>
          <button id="LikeBtn" type="button" class="btn btn-default my-view">♥버튼</button> 
          </div>
        </div> -->
        
        
        
 <div class="row">
      <div class="">   
       <br> <br> <br><br> <br> <br>                   
      </div>
  </div> 
  
  <div class="row">
      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xs-offset-3">
          <form action="/community/add" method="post" enctype="multiprart/form-data" role="form">
              <div class="form-group2" id="no">
                  <label class="form-label" for="title">Title</label>
                  <input type="text" class="form-control" id="title"  name="title" placeholder="Title" tabindex="1">
              </div>  
               <br>                          
              <div class="form-group2">
                  <label class="form-label" for="contents">Content</label>
                  <textarea rows="5" cols="50" name="contents" class="form-control" id="contents" placeholder="Content" tabindex="2" required></textarea>                                 
              </div>
              
		          <div id="modalBody" class="modal-body" >
		              <input id="pac-input" class="controls location" type="text" placeholder="주소를 적어주세요">
		              <div id="map"></div>
		          </div>
		          
			        
			       <div id="filename"  class="form-group my-view" style="text-align:center; width:545px;" >
                <label class="col-sm-2 control-label"></label>
                <img src="" style="width:100%;">
             </div>
          
  
       
	        <div class="form-group fileupload-box">
	          <label class="control-label" >파일 업로드</label>
	            <input type="file" id="file1" name="file1">
	            <p class="help-block">새로운 파일로 업로드됩니다.</p>
	        </div>
	        
	        <div class="form-group my-view">
             <label class="control-label">등록일</label>
               <p id="registerDate" class="form-control-static"></p>
          </div>
        </form>  
        
        <div class="form-group">
          <div class="">
            <button id="addBtn" type="button" class="button-border2 my-new">등록</button>
            <button id="updateBtn" type="button" class="button-border my-view">변경</button>
            <button id="deleteBtn" type="button" class="button-border my-view">삭제</button>
            <button id="cancelBtn" type="button" class="button-border "
                    onclick="location.href='communityApp.html'">취소</button>
          </div>
        </div>   
      </div>
  </div>


        

			<!------------------- 댓글 리스트 ---------좌우측의 공간 확보  --> 
			<hr>          
			<div class="comments-app my-view" >
			  <!-- From -->
			  <div class="comment-form2">
			    <!-- Comment Avatar -->
			    <div class="comment-avatar ">
			      <img src="" id="profilePhoto2" class="profile-img" style="width:100%; height:100%; text-align: center;">
			    </div>
			
			    <form class="form" name="form">
			      <div class="form-row" id="userNo3">
			        <textarea id="comment" class="input" placeholder="댓글내용을 적어주세요"></textarea>
			      </div>
			
			      <div class="form-row">
			        <button class="button-comment" id="addCommentBtn" type="button">등록</button>
			      </div>
			    </form>
			    
			  </div>    
			  <hr>   

			  <div class="comments">
			  
			  <div id='commentCount'></div>
			 
			    <div id="communityCommentTable"></div> 
			    
			
			  </div>
			  
			      <!-- <a href="#" id="loadMore">Load More</a>
			      <p class="totop">  <a href="#top">Back to top</a> </p> -->
			</div> <!-- 댓글 -->
   </section>
</div>





<script id="commentTemplateText" type="text/x-handlebars-template">

  <div class="comments" id="commentCount">
    <div class="comment" data-no="{{commentNo}}">

      <div class="comment-avatar"data-no="{{communityBoardNo}}">
        <a href="" data-no="{{commentUserNo}}" style="display:block" onload="draw();">
          {{#if commentUserPhoto}}
           <img src="../upload/{{commentUserPhoto}}" class="profile-img" style="width:80px; height:80px;">
          {{else}}                            
           <img src="../images/user-3.png" class="profile-img">              
          {{/if}}  
        </a>
      </div>

      <div class="comment-box">

        <div class="comment-text">{{comment}}</div>
        <div class="comment-footer">

          <div class="comment-info">
            <span class="comment-author">
              <a href="#">{{commentUserNicName}}</a>
            </span>
            <span class="comment-date">{{commentRegisterDate}}</span>
           </div>

          <div>
            <button id="updateCommentBtn" type="button" data-no="{{commentNo}}">변경</button>
            <button id="deleteCommentBtn" type="button" data-no="{{commentNo}}">삭제</button>
          </div>

         </div>
        </div>

      </div>

    </div>
  </div>

</script>


<script type="text/javascript">

</script>




<script src="../node_modules/handlebars/dist/handlebars.min.js"></script>
<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
<script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/common.js"></script>
<script type="text/javascript" src="../js/bit.js"></script>
<script type="text/javascript" src="communityForm.js"></script>
<script type="text/javascript" src="communityApp.js"></script>
<script type='text/javascript' src="../js/include.js"></script> 
<script>

ajaxLoginUser()              // 로그인 유저 정보 가져오기


// URL에 no 파라미터 값이 넘어오면 조회 모드로 동작해야 한다.
if (location.search.startsWith("?")) { // 예) ?no=xxx
    var no = location.search.split("=")[1];
    ajaxLoadCommunity(no)
    ajaxCommentCommunityList(no)
    $(".my-new").css("display", "none")
} else {
    $(".my-view").css("display", "none")
}


/*------------------------구글지도-------------------------------*/
window.initMap = function() {
     var map = new google.maps.Map(document.getElementById('map'), {
       center: {lat: -33.8688, lng: 151.2195},
       zoom: 16,
       mapTypeId: google.maps.MapTypeId.ROADMAP
     });
   
     // Create the search box and link it to the UI element.
     var input = document.getElementById('pac-input');
     var searchBox = new google.maps.places.SearchBox(input);
     map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
   
     // Bias the SearchBox results towards current map's viewport.
     map.addListener('bounds_changed', function() {
       searchBox.setBounds(map.getBounds());
     });
   
     var markers = [];
     // [START region_getplaces]
     // Listen for the event fired when the user selects a prediction and retrieve
     // more details for that place.
     searchBox.addListener('places_changed', function() {
       var places = searchBox.getPlaces();
   
       if (places.length == 0) {
         return;
       }
   
       // Clear out the old markers.
       markers.forEach(function(marker) {
         marker.setMap(null);
       });
       markers = [];
   
       // For each place, get the icon, name and location.
       var bounds = new google.maps.LatLngBounds();
       places.forEach(function(place) {
         var icon = {
           url: place.icon,
           size: new google.maps.Size(71, 71),
           origin: new google.maps.Point(0, 0),
           anchor: new google.maps.Point(17, 34),
           scaledSize: new google.maps.Size(25, 25)
         };
   
         // Create a marker for each place.
         markers.push(new google.maps.Marker({
           map: map,
           icon: icon,
           title: place.name,
           position: place.geometry.location
         }));
   
         if (place.geometry.viewport) {
           // Only geocodes have viewport.
           bounds.union(place.geometry.viewport);
         } else {
           bounds.extend(place.geometry.location);
         }
       });
       map.fitBounds(bounds);
     });
     // [END region_getplaces]
   }
   
   
   
   
   
/*-------------------------폼------------------------------*/

$(document).ready(function() {
  // Test for placeholder support
    $.support.placeholder = (function(){
        var i = document.createElement('input');
        return 'placeholder' in i;
    })();

    // Hide labels by default if placeholders are supported
    if($.support.placeholder) {
        $('.form-label').each(function(){
            $(this).addClass('js-hide-label');
        });  

        // Code for adding/removing classes here
        $('.form-group2').find('input, textarea').on('keyup blur focus', function(e){
            
            // Cache our selectors
            var $this = $(this),
                $parent = $this.parent().find("label");

            if (e.type == 'keyup') {
                if( $this.val() == '' ) {
                    $parent.addClass('js-hide-label'); 
                } else {
                    $parent.removeClass('js-hide-label');   
                }                     
            } 
            else if (e.type == 'blur') {
                if( $this.val() == '' ) {
                    $parent.addClass('js-hide-label');
                } 
                else {
                    $parent.removeClass('js-hide-label').addClass('js-unhighlight-label');
                }
            } 
            else if (e.type == 'focus') {
                if( $this.val() !== '' ) {
                    $parent.removeClass('js-unhighlight-label');
                }
            }
        });
    } 
});  

</script>



<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyAft7ukIrCdQPQYU4aXTBySOqsjQthqMNE&libraries=places&callback=initMap" async defer></script>



</body>
</html>








