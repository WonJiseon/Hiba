<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="ko" class="no-js">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport"
	content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<title>프로젝트-스케줄</title>
<!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet"
	href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet"
	href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<link href='../css/fullcalendar.css' rel='stylesheet' />
<link rel="stylesheet" type="text/css" href="../css/checkMySchedule.css">
<link href='../css/fullcalendar.print.css' rel='stylesheet'
	media='print' />


<link rel="stylesheet" type="text/css" href="../css/common_style.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<link href='../css/btn.css' rel='stylesheet' />
<link href='../css/fullcalendar.css' rel='stylesheet' />
<link href='../css/fullcalendar.print.css' rel='stylesheet' media='print' />
<script src='../js/moment.min.js'></script>


<style>
.container {
	width: 600px;
}
</style>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src='../js/moment.min.js'></script>
<script src='../js/fullcalendar.min.js' charset="UTF-8"></script>
<script src='../js/ko.js'></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.js"></script>
</head>
<style>
#calendar {
    position: absolute;
    max-width: 800px;
    left: 310px;
    top: 150px;
    box-shadow: 5px 8px 10px 3px gray;
}

.modal {
	z-index: 20;
}

.modal-backdrop {
	z-index: 10;
}

.line {
	margin-top: 20px;
	margin-bottom: 20px;
	border: 0;
	border-top: 3px solid #9dc92a;
}
​
</style>
<body>
	<div class="wrapper">
		<header> </header>
		<section class="panel">
			<aside class="header-top" style="float: left;">
				<ul class="aside-nav">
					<li class="f-r"><a href="#"></a></li>
					<li class="f-r iconMemberPlus" data-toggle="tooltip"
						data-placement="bottom" title="그룹추가하기"><a href="#"></a></li>
					<li class="f-r iconSchedulePlus" data-toggle="tooltip"
						data-placement="bottom" title="일정추가하기"><a href="#"></a></li>
					<li class="f-r iconBell user-alert"
						style="display: block; cursor: pointer"><i
						class="glyphicon glyphicon-exclamation-sign alert-icon"
						style="color: red; position: absolute; font-size: 15px; top: 10px; display: none"></i>
					</li>

				</ul>
				<p class="f-r logout" style="float: right;">
					<a href="#">로그아웃</a>
				</p>
				<div class="alert-box"
					style="position: absolute; background-color: rgba(0, 0, 0, 0.5); max-width: 250px; margin: 10px; left: 50px; top: 60px; color: #fff">
				</div>
			</aside>


			<div class="section-wrap">
				<div class="make-top">
					<div class="make-text"
						style="position: fixed; left: 20px; z-index: 2;">
						<h2>
							<span class="my-profile"
								style="display: block; text-align: center; padding-left: 0px;">
								<img src="" id="profilePhoto"
								style="width: 80px; height: 80px; margin-top: 90px;" />
							</span><br> <span id="user" class="my-login" data-value=""></span>님
							안녕하세요?
						</h2>
					</div>
				</div>

				<form class="navbar-form navbar-left" role="search">
					<div class="form-group">
						<button type="button" class="btn btn-default"
							onclick="location.href='MySchedule.html'">
							<i class="fa fa-bars w3-xlarge" aria-hidden="true"></i>
						</button>
						<button type="button" class="btn btn-default"
							onclick="location.href='checkMySchedule.html'">
							<i class="fa fa-calendar w3-xlarge" aria-hidden="true"></i>
						</button>
					</div>
				</form>


				<div class="sectionbar-line">
					<hr class="line" align=center width=100%>
				</div>

				<!-- 	<div class="aside"
					style="float: left; padding: 20px 20px 0 20px; width: auto;">
					<div class="groupNameList">
						<h1 class="groupListTitle">나의 그룹 리스트</h1>
						<div id="groupList">
							<input type="checkbox" data-no="" data-value="">
						</div>
					</div>
				</div> -->


				<div class="aside"
					style="float: left; padding: 20px 20px 0 20px; width: auto;">
					<section class="tasks" style="min-height: 600px;">
						<div class="tasks-header">
							<h2 id="tasks-title">나의 그룹 리스트</h2>
						</div>
						<fieldset class="tasks-list">
							<label class="tasks-list-item" id="groupList"> <input
								type="checkbox" id="groupscList" data-no="" name="task_1"
								class="tasks-list-cb" checked> <!-- display: none --> <span
								class="tasks-list-mark"></span> <!-- 버튼똥끄라미 --> <span
								class="tasks-list-desc" id="groupList" data-value="">Onyour
									mark</span>
							</label>
						</fieldset>
					</section>
				</div>
  
				<div id='calendar'></div> 

				<div id="calendarModal" class="modal fade">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">
									<span aria-hidden="true">×</span> <span class="sr-only">close</span>
								</button>
								<span class="modal-groupName"></span> 
								<span id="modalTitle" class="modal-title"></span><br> 
								<i class="fa fa-clock-o" aria-hidden="true" style="font-size:15px; color:#9dc92a;"></i> 
								<span class="modal-start-date"></span>
								<span class="modal-end-date"></span><br> 
								<i class="fa fa-map-marker" aria-hidden="true" style="font-size:18px; color:#9dc92a;"></i> 
								<span class="modal-place"></span> 
								<span	class="modal-description"></span> 
								<span id="modal-weather"class="weather-img"> </span> <img src="">
							</div>


							<div id="modalBody" class="modal-body">
								<div style="margin-top: 5px;">
									<h4 class="detail-sc-day"></h4>
									<div id="google_map" style="width: 100%; height: 450px;"></div>
								</div>
							</div>

							<div class="modal-footer">
								<button id="detailBtn" type="button" class="button-border-g">상세정보</button>
								<button type="button" class="hiba-btn btn-round-g"
									onclick="location.href=''">앨범</button>
								<button type="button" class="hiba-btn btn-round-g"
									data-dismiss="modal">닫기</button>
							</div>
						</div>
					</div>
				</div>
			</div>

		</section>
	</div>
	
	
		<!-- <div id="groupList">
		<input type="checkbox"  data-no="{{groupscNo}}" data-value="{{groupNo}}">{{groupName}}
		</div> -->
	<script id="divTemplateText" type="text/x-handlebars-template">
		<label class="tasks-list-item" id="groupList">
			<input type="checkbox" id="groupscList" data-no="{{groupscNo}}"  data-value="{{groupNo}}" name="task_1"
				class="tasks-list-cb" checked> <!-- display: none --> 
			<span class="tasks-list-mark" data-no="{{groupscNo}}" ></span> <!-- 버튼똥끄라미 --> 
			<span class="tasks-list-desc" data-value="{{groupNo}}">{{groupName}}</span>
		</label>

		
	</script>



	<script id="inviteMessage" type="text/x-handlebars-template">       
    <div class="invite-box" style="display:none" data-value="{{memberNo}}">             
      <p>{{name}} 님이 <span id="inviteGroupNo" > {{groupName}} 그룹에 초대하였습니다</span></p>
        <ul>
           <li style="display:inline"><button type="button" class="btn addTrue"  data-value="{{no}}" data-no="{{groupNo}}" data-chat="{{groupReplyNo}}">수락</button></li>
           <li style="display:inline"><button type="button" class="btn addFail" data-value="{{no}}">거절</button></li>
        </ul>     
     </div>  
  </script>

	<script type="text/javascript"
		src="../node_modules/handlebars/dist/handlebars.min.js"></script>
	<script type="text/javascript"
		src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="../member/memberApp.js"></script>
	<script type="text/javascript" src="../js/common.js"></script>
	<script type="text/javascript" src="../js/bit.js"></script>
	<script type='text/javascript' src="../js/include.js"></script>
	<!-- <script type='text/javascript' src='../js/cal_custom.js'></script> -->
	<script type="text/javascript"
		src="../memberInvite/memberInvitemessageApp.js"></script>
	<script type='text/javascript' src="../js/main.js"></script>
	<script type='text/javascript' src="checkmyschedule.js"></script>

	<script>
		ajaxLoginUser()
		ajaxMyScheduleList()
		//ajaxEventLocationList()
		ajaxGroupInviteListMessage()
		if (location.search.startsWith("?")) {
			var no = location.search.split("=")[0];
			ajaxMyScheduleList(no)
			$(".my-new").css("display", "none")
		} else {
			$(".my-view").css("display", "none")
		}
		window.initMap = function() {
			var map = new google.maps.Map(document.getElementById('map'), {
				center : {
					lat : -33.8688,
					lng : 151.2195
				},
				zoom : 16,
				mapTypeId : google.maps.MapTypeId.ROADMAP
			});
			// Create the search box and link it to the UI element.
			var input = document.getElementById('pac-input');
			var searchBox = new google.maps.places.SearchBox(input);
			map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
			// Bias the SearchBox results towards current map's viewport.
			map.addListener('bounds_changed', function() {
				searchBox.setBounds(map.getBounds());
			});
			var markers = [];
			// [START region_getplaces]
			// Listen for the event fired when the user selects a prediction and retrieve
			// more details for that place.
			searchBox.addListener('places_changed', function() {
				var places = searchBox.getPlaces();
				if (places.length == 0) {
					return;
				}
				// Clear out the old markers.
				markers.forEach(function(marker) {
					marker.setMap(null);
				});
				markers = [];
				// For each place, get the icon, name and location.
				var bounds = new google.maps.LatLngBounds();
				places.forEach(function(place) {
					var icon = {
						url : place.icon,
						size : new google.maps.Size(71, 71),
						origin : new google.maps.Point(0, 0),
						anchor : new google.maps.Point(17, 34),
						scaledSize : new google.maps.Size(25, 25)
					};
					// Create a marker for each place.
					markers.push(new google.maps.Marker({
						map : map,
						icon : icon,
						title : place.name,
						position : place.geometry.location
					}));
					if (place.geometry.viewport) {
						// Only geocodes have viewport.
						bounds.union(place.geometry.viewport);
					} else {
						bounds.extend(place.geometry.location);
					}
				});
				map.fitBounds(bounds);
			});
			// [END region_getplaces]
		}
	</script>
	<script type="text/javascript"
		src="http://maps.google.com/maps/api/js?key=AIzaSyAft7ukIrCdQPQYU4aXTBySOqsjQthqMNE&libraries=places&callback=initMap"
		async defer></script>
	<script>
		/*
		$("#calendarModal").click(function() {
		$.getJSON(serverAddr + '/myschedule/listWeather.json', function(obj){
			var result = obj.jsonResult
			if (result.state != "success") {
				alert("서버에서 데이터를 가져오는데 실패했습니다.")
				return
			}
			var lon = ""
			var lat = ""
			var arr = result.data
			console.log(arr)
			for (var i in arr) {
				if ()
				lat += arr[i].lat
				lon += arr[i].lon
			}
			console.log(lat)
			console.log(lon)
			
		})
		});
		
		
		$("#calendarModal").click(function() {
			$.getJSON(skPlanetWeather + {
				"lon": lon,
				"lat": lat,
				"version": "1",
				"appKey": "6e62a500-8f2f-36d6-ac6d-2fcc4b4a5a23"
			}, function(data) {
				var arr = data.result
				if (arr.message != "성공") {
						alert("서버에서 데이터를 가져오는데 실패했습니다.")
						return
					
				}
				console.log(arr) 
				for (var i in arr) {
					if (arr[i] == "weather") 
						contents += arr[i]
				}
				
				$(".modal-weather").html(contents)
			})
		});
		 */
	</script>


</body>
</html>